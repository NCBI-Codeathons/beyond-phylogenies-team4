<!DOCTYPE html>
<HTML>
  <HEAD>
    <TITLE>COVID-Seq reports - Salemi Lab - University of Florida</TITLE>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <style>
.nomarg {
  margin: 0px;
}
.plotDiv {
  margin: 20px;
  align: center;
  width: 100%
  height: 600px;
}
    </style>
    <script>
function sortColumn(rows, index, kind, direction) {
    newRows = Array.from(rows);

    newRows.sort(function(rowA, rowB) {
        cellA = rowA.getElementsByTagName('td')[index].getAttribute('val');
        cellB = rowB.getElementsByTagName('td')[index].getAttribute('val');
        if (kind == "N") {
            cellA = parseFloat(cellA);
            cellB = parseFloat(cellB);
        }
        if (cellA > cellB) {
            return direction;
        } else if (cellA < cellB) {
	    return direction * -1;
        } else {
	    return 0;
	}
    });
    return newRows;
}

function sortTable(tableid, col) {
    const table = document.getElementById(tableid);
    const tableHeader = table.querySelector('thead');
    const headerRow = tableHeader.getElementsByTagName('tr')[0];
    const header = headerRow.getElementsByTagName('th')[col]
    const tableBody = table.querySelector('tbody');
    const rows = tableBody.getElementsByTagName('tr');

    direction = header.getAttribute("dir");
    kind = header.getAttribute("kind");
    if (direction == "A") {
		   newRows = sortColumn(rows, col, kind, 1);
		   header.setAttribute("dir", "D");
    } else {
		   newRows = sortColumn(rows, col, kind, -1);
		   header.setAttribute("dir", "A");
    }
    [].forEach.call(rows, function(row) {
		   tableBody.removeChild(row);
    });

    newRows.forEach(function(newRow) {
		   tableBody.appendChild(newRow);
    });
}

    </script>
    <script src="https://cdn.plot.ly/plotly-2.4.2.min.js"></script>
  </HEAD>
  <BODY bgcolor="#DDDDDD">
    <h1 class="w3-blue nomarg">COVID-Seq reports - Salemi Lab - University of Florida</h1>
    <div class="w3-panel">
      <h3>
##Title
      </h3>
      <div class="plotDiv" id="pieplot"></div>
      <script>
##Pieplot
      </script>
      <small>(Click on a column header to sort the table)</small>
      <table class="w3-table w3-border w3-bordered w3-small w3-white" id="maintable">
	<thead>
	  <tr class="w3-blue">
##Header
	  </tr>
	</thead>
	<tbody>
##Rows
	</tbody>
      </table>
    </div>
  </body>
</html>
